"use strict";(self.webpackChunkcar_rental_project=self.webpackChunkcar_rental_project||[]).push([[84],{9834:function(a,e,s){s.d(e,{Z:function(){return Q}});var r=s(3433),l=s(5861),n=s(9439),i=s(7757),t=s.n(i),c="CardList_cardList__-CiLx",d="CardList_cardList_loadBtn__PEp5u",o=s(2791),_="CarCard_carCard_item__KdzGo",m="CarCard_carCard_imgWrapper__YNYzE",u="CarCard_carCard_img__6d3Fh",h="CarCard_carCard_infoWrapper__Zr2oO",j="CarCard_carCard_titleWrapper__D50Ws",x="CarCard_carCard_title__rIRmV",f="CarCard_carCard_titleModel__BnDyc",C="CarCard_carCard_titleYear__pB8Wv",p="CarCard_carCard_listInfo__TmP84",N="CarCard_carCard_itemInfo__WoIbb",v="CarCard_carCard_button__RZsv2",g="CarCard_heart_button__tK-mX",k=s(3853),S=s(4164),y="CarModal_overlay__O0fqN",M="CarModal_modal__FOFDk",b="CarModal_modal_imgWrapper__NqejR",Z="CarModal_modal_img__aKZFc",w="CarModal_modal_infoWrapper__4zcka",E="CarModal_modal_title__W4hE0",I="CarModal_modal_titleModel__7UOIc",L="CarModal_modal_titleYear__KDFsg",z="CarModal_modal_description__fFTxx",O="CarModal_modal_subTitle__mgAfu",F="CarModal_modal_rentalBtn__gFldS",P="CarModal_modal_cancelBtn__DSv96",T="CarModal_modal_listG__Ep2xU",W="CarModal_modal_listItemG__mX1TU",R="CarModal_modal_listCondition__kt+ye",J="CarModal_modal_itemCondition__uhM5k",B=s(1213),D=s.p+"static/media/placeholder.bfdc4f1b42bd9a5d2e35.jpg",Y=s(184),K=document.querySelector("#modal-root"),U=function(a){var e=a.onClick,s=a.data,l=s.id,i=s.accessories,t=s.address,c=s.description,d=s.engineSize,_=s.fuelConsumption,m=s.functionalities,u=s.img,h=s.make,j=s.mileage,x=s.model,f=s.rentalConditions,C=s.rentalPrice,p=s.type,N=s.year,v=function(a){(a.currentTarget===a.target||"Escape"===a.code)&&e()};(0,o.useEffect)((function(){return window.addEventListener("keydown",v),window.addEventListener("click",v),function(){window.removeEventListener("keydown",v),window.removeEventListener("click",v)}}));var g=[].concat((0,r.Z)(i),(0,r.Z)(m)),k=t.split(","),U=f.split("\n"),q=U[0].split(":"),G=(0,n.Z)(q,2),X=G[0],A=G[1];return(0,S.createPortal)((0,Y.jsx)("div",{onClick:v,className:y,children:(0,Y.jsxs)("div",{className:M,children:[(0,Y.jsx)("div",{className:b,children:(0,Y.jsx)("img",{className:Z,src:u||D,alt:"car"})}),(0,Y.jsxs)("div",{className:w,children:[(0,Y.jsxs)("div",{children:[(0,Y.jsxs)("h3",{className:E,children:[h," ",(0,Y.jsx)("span",{className:I,children:x}),",",(0,Y.jsx)("span",{className:L,children:N})]}),(0,Y.jsxs)("ul",{className:T,children:[(0,Y.jsx)("li",{className:W,children:k[2]}),(0,Y.jsx)("li",{className:W,children:k[1]}),(0,Y.jsxs)("li",{className:W,children:["Id: ",l]}),(0,Y.jsxs)("li",{className:W,children:["Year: ",N]}),(0,Y.jsxs)("li",{className:W,children:["Type: ",p]})]}),(0,Y.jsxs)("ul",{className:T,children:[(0,Y.jsxs)("li",{className:W,children:["Fuel Consumption: ",_]}),(0,Y.jsxs)("li",{className:W,children:["Engine Size: ",d]})]}),(0,Y.jsx)("p",{className:z,children:c})]}),(0,Y.jsxs)("div",{children:[(0,Y.jsx)("p",{className:O,children:"Accessories and functionalities:"}),(0,Y.jsx)("ul",{className:T,children:g.map((function(a,e){return(0,Y.jsx)("li",{className:W,children:a},e)}))})]}),(0,Y.jsxs)("div",{children:[(0,Y.jsx)("p",{className:O,children:"Rental Conditions:"}),(0,Y.jsxs)("ul",{className:R,children:[(0,Y.jsxs)("li",{className:J,children:[X,":",(0,Y.jsx)("span",{className:I,children:A})]}),(0,Y.jsx)("li",{className:J,children:U[1]}),(0,Y.jsx)("li",{className:J,children:U[2]}),(0,Y.jsxs)("li",{className:J,children:["Mileage:",(0,Y.jsx)("span",{className:I,children:j.toLocaleString("en-US")})]}),(0,Y.jsxs)("li",{className:J,children:["RentalPrice:",(0,Y.jsx)("span",{className:I,children:C})]})]})]}),(0,Y.jsx)("a",{href:"tel:+380730000000",className:F,children:"Rental car"})]}),(0,Y.jsx)("button",{onClick:e,type:"button",className:P,children:(0,Y.jsx)(B.$iT,{size:24})})]})}),K)},q=s(9434),G=s(7665),X=function(a){var e=a.data,s=e.id,r=e.address,l=e.functionalities,i=e.img,t=e.make,c=e.mileage,d=e.model,S=e.rentalCompany,y=e.rentalPrice,M=e.type,b=e.year,Z=(0,o.useState)(!1),w=(0,n.Z)(Z,2),E=w[0],I=w[1],L=function(){return I(!E)},z=r.split(","),O=(0,q.I0)(),F=(0,o.useState)(!1),P=(0,n.Z)(F,2),T=P[0],W=P[1];(0,o.useEffect)((function(){var a=(JSON.parse(localStorage.getItem("favorites"))||[]).find((function(a){return a.id===s}));W(a)}),[s]);return(0,Y.jsxs)("li",{className:_,children:[(0,Y.jsxs)("div",{className:m,children:[(0,Y.jsx)("img",{className:u,src:i||D,alt:"car"}),(0,Y.jsx)("button",{onClick:function(){if(T){var a=(JSON.parse(localStorage.getItem("favorites"))||[]).filter((function(a){return a.id!==s}));localStorage.setItem("favorites",JSON.stringify(a)),O((0,G.j)(a)),W(!1)}else{var r=JSON.parse(localStorage.getItem("favorites"))||[];r.push(e),localStorage.setItem("favorites",JSON.stringify(r)),O((0,G.j)(r)),W(!0)}},type:"button",className:g,children:(0,Y.jsx)(k.$aX,{style:{fill:T?"#3470ff":"transparent",stroke:"white"},size:20})})]}),(0,Y.jsxs)("div",{className:h,children:[(0,Y.jsxs)("div",{className:j,children:[(0,Y.jsxs)("h3",{className:x,children:[t," ",(0,Y.jsx)("span",{className:f,children:d}),",",(0,Y.jsx)("span",{className:C,children:b})]}),(0,Y.jsx)("p",{className:x,children:y})]}),(0,Y.jsxs)("ul",{className:p,children:[(0,Y.jsx)("li",{className:N,children:z[2]}),(0,Y.jsx)("li",{className:N,children:z[1]}),(0,Y.jsx)("li",{className:N,children:S})]}),(0,Y.jsxs)("ul",{className:p,children:[(0,Y.jsx)("li",{className:N,children:M}),(0,Y.jsx)("li",{className:N,children:d}),(0,Y.jsx)("li",{className:N,children:c}),(0,Y.jsx)("li",{className:N,children:l[0]})]})]}),(0,Y.jsx)("button",{onClick:L,type:"button",className:v,children:"Learn more"}),E&&(0,Y.jsx)(U,{data:e,onClick:function(a){return L()}})]})},A=function(a){return a.isLoading},$=function(a){return a.favorites.favorites},V=s(6322),H=s(8313),Q=function(a){var e=a.type,s=(0,q.I0)(),i=(0,q.v9)($),_=(0,o.useState)(),m=(0,n.Z)(_,2),u=m[0],h=m[1],j=(0,o.useState)(1),x=(0,n.Z)(j,2),f=x[0],C=x[1],p=(0,q.v9)(A);(0,o.useEffect)((function(){"catalog"===e&&(0,l.Z)(t().mark((function a(){var e;return t().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,H.z)(f);case 3:e=a.sent,h(f>1?function(a){return[].concat((0,r.Z)(a),(0,r.Z)(e))}:e),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),alert("Error fetching catalog:",a.t0.message);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()}),[f,e]);return(0,o.useEffect)((function(){if("fav"===e){var a=JSON.parse(localStorage.getItem("favorites"))||[];s((0,G.j)(a))}}),[s,e]),(0,Y.jsxs)(Y.Fragment,{children:[p&&(0,Y.jsx)(V.Z,{}),"catalog"===e&&(0,Y.jsxs)("section",{children:[(0,Y.jsx)("ul",{className:c,children:(null===u||void 0===u?void 0:u.length)>0&&u.map((function(a){return(0,Y.jsx)(X,{data:a},a.id)}))}),!p&&(0,Y.jsx)("button",{type:"button",onClick:function(){C((function(a){return a+1}))},className:d,children:"Load more"})]}),"fav"===e&&(0,Y.jsx)("section",{children:(0,Y.jsx)("ul",{className:c,children:(null===i||void 0===i?void 0:i.length)>0&&i.map((function(a){return(0,Y.jsx)(X,{data:a},a.id)}))})})]})}},4270:function(a,e,s){s.r(e);var r=s(9834),l=s(6168),n=s(184);e.default=function(){return(0,n.jsx)("div",{className:l.Z.container,children:(0,n.jsx)(r.Z,{type:"catalog"})})}},6168:function(a,e){e.Z={pageTitle:"Page_pageTitle__Pl-Lt",container:"Page_container__z9ezR"}}}]);
//# sourceMappingURL=84.4b53dba3.chunk.js.map